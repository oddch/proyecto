<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:jsf="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <h:head>
        <meta charset="utf-8"/>
        <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
        <!-- Tell the browser to be responsive to screen width -->
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
        <meta name="description" content=""/>
        <meta name="author" content=""/>

        <!-- Cache -->
        <meta http-equiv="X-UA-Compatible" content="edge, chrome=1" />
        <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
        <meta http-equiv="Pragma" content="no-cache" />
        <meta http-equiv="Expires" content="-1" />
        <!-- ......................... -->


        <!-- Favicon icon -->
        <link rel="icon" type="image/png" sizes="16x16" href="../images/favicon.png"/>
        <title>Ela - Bootstrap Admin Dashboard Template</title>
        <!-- Bootstrap Core CSS -->
        <link href="../css/lib/bootstrap/bootstrap.min.css" rel="stylesheet"/>
        <!-- Custom CSS -->



        <link href="../css/lib/calendar2/semantic.ui.min.css" rel="stylesheet"/>
        <link href="../css/lib/calendar2/pignose.calendar.min.css" rel="stylesheet"/>
        <link href="../css/lib/owl.carousel.min.css" rel="stylesheet" />
        <link href="../css/lib/owl.theme.default.min.css" rel="stylesheet" />
        <link href="../css/helper.css" rel="stylesheet"/>
        <link href="../css/style.css" rel="stylesheet"/>

        <link href="../css/lib/sweetalert/sweetalert.css" rel="stylesheet"/>

        <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:** -->
        <!--[if lt IE 9]>
        <script src="https:**oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https:**oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
        <style>
            #datosUsuario{
                display: none;
            }
            #cargaTxt{
                display: none;
            }
            #cargaXls{
                display: none;
            }
            #archivosServidor{
                display: none;
            }

        </style>
    </h:head>

 



    <h:body class="fix-header fix-sidebar">

        <a href="usu.xhtml">Tabla de usuarios</a>
        <!-- Preloader - style you can find in spinners.css -->
        <div class="preloader">
            <svg class="circular" viewBox="25 25 50 50">
                <circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10" /> </svg>
        </div>
        <!-- Main wrapper  -->
        <div id="main-wrapper">

            <!-- header header  -->
            <div class="header">
                <nav class="navbar top-navbar navbar-expand-md navbar-light">
                    <!-- Logo -->
                    <div class="navbar-header">
                        <a class="navbar-brand" href="index.html">
                            <!-- Logo icon -->
                            <b><img src="../images/logo.png" alt="homepage" class="dark-logo" /></b>
                            <!--End Logo icon -->
                            <!-- Logo text -->
                            <span><img src="../images/logo-text.png" alt="homepage" class="dark-logo" /></span>
                        </a>
                    </div>
                    <!-- End Logo -->
                    <div class="navbar-collapse">
                        <!-- toggle and nav items -->
                        <ul class="navbar-nav mr-auto mt-md-0">
                            <!-- This is  -->
                            <li class="nav-item"> <a class="nav-link nav-toggler hidden-md-up text-muted  " href="javascript:void(0)"><i class="mdi mdi-menu"></i></a> </li>
                            <li class="nav-item m-l-10"> <a class="nav-link sidebartoggler hidden-sm-down text-muted  " href="javascript:void(0)"><i class="ti-menu"></i></a> </li>
                            <!-- Messages -->
                            <li class="nav-item dropdown mega-dropdown"> <a class="nav-link dropdown-toggle text-muted  " href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="fa fa-th-large"></i></a>
                                <div class="dropdown-menu animated zoomIn">
                                    <ul class="mega-dropdown-menu row">


                                        <li class="col-lg-3  m-b-30">
                                            <h4 class="m-b-20">CONTACT US</h4>
                                            <!-- Contact -->
                                            <form>
                                                <div class="form-group">
                                                    <input type="text" class="form-control" id="exampleInputname1" placeholder="Enter Name"/> </div>
                                                <div class="form-group">
                                                    <input type="email" class="form-control" placeholder="Enter email"/> </div>
                                                <div class="form-group">
                                                    <textarea class="form-control" id="exampleTextarea" rows="3" placeholder="Message"></textarea>
                                                </div>
                                                <button type="submit" class="btn btn-info">Submit</button>
                                            </form>
                                        </li>
                                        <li class="col-lg-3 col-xlg-3 m-b-30">
                                            <h4 class="m-b-20">List style</h4>
                                            <!-- List style -->
                                            <ul class="list-style-none">
                                                <li><a href="javascript:void(0)"><i class="fa fa-check text-success"></i> This Is Another Link</a></li>
                                                <li><a href="javascript:void(0)"><i class="fa fa-check text-success"></i> This Is Another Link</a></li>
                                                <li><a href="javascript:void(0)"><i class="fa fa-check text-success"></i> This Is Another Link</a></li>
                                                <li><a href="javascript:void(0)"><i class="fa fa-check text-success"></i> This Is Another Link</a></li>
                                                <li><a href="javascript:void(0)"><i class="fa fa-check text-success"></i> This Is Another Link</a></li>
                                            </ul>
                                        </li>
                                        <li class="col-lg-3 col-xlg-3 m-b-30">
                                            <h4 class="m-b-20">List style</h4>
                                            <!-- List style -->
                                            <ul class="list-style-none">
                                                <li><a href="javascript:void(0)"><i class="fa fa-check text-success"></i> This Is Another Link</a></li>
                                                <li><a href="javascript:void(0)"><i class="fa fa-check text-success"></i> This Is Another Link</a></li>
                                                <li><a href="javascript:void(0)"><i class="fa fa-check text-success"></i> This Is Another Link</a></li>
                                                <li><a href="javascript:void(0)"><i class="fa fa-check text-success"></i> This Is Another Link</a></li>
                                                <li><a href="javascript:void(0)"><i class="fa fa-check text-success"></i> This Is Another Link</a></li>
                                            </ul>
                                        </li>
                                        <li class="col-lg-3 col-xlg-3 m-b-30">
                                            <h4 class="m-b-20">List style</h4>
                                            <!-- List style -->
                                            <ul class="list-style-none">
                                                <li><a href="javascript:void(0)"><i class="fa fa-check text-success"></i> This Is Another Link</a></li>
                                                <li><a href="javascript:void(0)"><i class="fa fa-check text-success"></i> This Is Another Link</a></li>
                                                <li><a href="javascript:void(0)"><i class="fa fa-check text-success"></i> This Is Another Link</a></li>
                                                <li><a href="javascript:void(0)"><i class="fa fa-check text-success"></i> This Is Another Link</a></li>
                                                <li><a href="javascript:void(0)"><i class="fa fa-check text-success"></i> This Is Another Link</a></li>
                                            </ul>
                                        </li>
                                    </ul>
                                </div>
                            </li>
                            <!-- End Messages -->
                        </ul>
                        <!-- User profile and search -->
                        <ul class="navbar-nav my-lg-0">

                            <!-- Search -->
                            <li class="nav-item hidden-sm-down search-box"> <a class="nav-link hidden-sm-down text-muted  " href="javascript:void(0)"><i class="ti-search"></i></a>
                                <form class="app-search">
                                    <input type="text" class="form-control" placeholder="Search here"/> <a class="srh-btn"><i class="ti-close"></i></a> </form>
                            </li>
                            <!-- Comment -->
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle text-muted text-muted  " href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> <i class="fa fa-bell"></i>
                                    <div class="notify"> <span class="heartbit"></span> <span class="point"></span> </div>
                                </a>
                                <div class="dropdown-menu dropdown-menu-right mailbox animated zoomIn">
                                    <ul>
                                        <li>
                                            <div class="drop-title">Notifications</div>
                                        </li>
                                        <li>
                                            <div class="message-center">
                                                <!-- Message -->
                                                <a href="#">
                                                    <div class="btn btn-danger btn-circle m-r-10"><i class="fa fa-link"></i></div>
                                                    <div class="mail-contnet">
                                                        <h5>This is title</h5> <span class="mail-desc">Just see the my new admin!</span> <span class="time">9:30 AM</span>
                                                    </div>
                                                </a>
                                                <!-- Message -->
                                                <a href="#">
                                                    <div class="btn btn-success btn-circle m-r-10"><i class="ti-calendar"></i></div>
                                                    <div class="mail-contnet">
                                                        <h5>This is another title</h5> <span class="mail-desc">Just a reminder that you have event</span> <span class="time">9:10 AM</span>
                                                    </div>
                                                </a>
                                                <!-- Message -->
                                                <a href="#">
                                                    <div class="btn btn-info btn-circle m-r-10"><i class="ti-settings"></i></div>
                                                    <div class="mail-contnet">
                                                        <h5>This is title</h5> <span class="mail-desc">You can customize this template as you want</span> <span class="time">9:08 AM</span>
                                                    </div>
                                                </a>
                                                <!-- Message -->
                                                <a href="#">
                                                    <div class="btn btn-primary btn-circle m-r-10"><i class="ti-user"></i></div>
                                                    <div class="mail-contnet">
                                                        <h5>This is another title</h5> <span class="mail-desc">Just see the my admin!</span> <span class="time">9:02 AM</span>
                                                    </div>
                                                </a>
                                            </div>
                                        </li>
                                        <li>
                                            <a class="nav-link text-center" href="javascript:void(0);"> <strong>Check all notifications</strong> <i class="fa fa-angle-right"></i> </a>
                                        </li>
                                    </ul>
                                </div>
                            </li>
                            <!-- End Comment -->
                            <!-- Messages -->
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle text-muted  " href="#" id="2" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> <i class="fa fa-envelope"></i>
                                    <div class="notify"> <span class="heartbit"></span> <span class="point"></span> </div>
                                </a>
                                <div class="dropdown-menu dropdown-menu-right mailbox animated zoomIn" aria-labelledby="2">
                                    <ul>
                                        <li>
                                            <div class="drop-title">You have 4 new messages</div>
                                        </li>
                                        <li>
                                            <div class="message-center">
                                                <!-- Message -->
                                                <a href="#">
                                                    <div class="user-img"> <img src="../images/users/5.jpg" alt="user" class="img-circle"/> <span class="profile-status online pull-right"></span> </div>
                                                    <div class="mail-contnet">
                                                        <h5>Michael Qin</h5> <span class="mail-desc">Just see the my admin!</span> <span class="time">9:30 AM</span>
                                                    </div>
                                                </a>
                                                <!-- Message -->
                                                <a href="#">
                                                    <div class="user-img"> <img src="../images/users/2.jpg" alt="user" class="img-circle"/> <span class="profile-status busy pull-right"></span> </div>
                                                    <div class="mail-contnet">
                                                        <h5>John Doe</h5> <span class="mail-desc">I've sung a song! See you at</span> <span class="time">9:10 AM</span>
                                                    </div>
                                                </a>
                                                <!-- Message -->
                                                <a href="#">
                                                    <div class="user-img"> <img src="../images/users/3.jpg" alt="user" class="img-circle"/> <span class="profile-status away pull-right"></span> </div>
                                                    <div class="mail-contnet">
                                                        <h5>Mr. John</h5> <span class="mail-desc">I am a singer!</span> <span class="time">9:08 AM</span>
                                                    </div>
                                                </a>
                                                <!-- Message -->
                                                <a href="#">
                                                    <div class="user-img"> <img src="../images/users/4.jpg" alt="user" class="img-circle"/> <span class="profile-status offline pull-right"></span> </div>
                                                    <div class="mail-contnet">
                                                        <h5>Michael Qin</h5> <span class="mail-desc">Just see the my admin!</span> <span class="time">9:02 AM</span>
                                                    </div>
                                                </a>
                                            </div>
                                        </li>
                                        <li>
                                            <a class="nav-link text-center" href="javascript:void(0);"> <strong>See all e-Mails</strong> <i class="fa fa-angle-right"></i> </a>
                                        </li>
                                    </ul>
                                </div>
                            </li>
                            <!-- End Messages -->
                            <!-- Profile -->
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle text-muted  " href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><img src="../images/users/5.jpg" alt="user" class="profile-pic" /></a>
                                <div class="dropdown-menu dropdown-menu-right animated zoomIn">
                                    <ul class="dropdown-user">
                                        <li><a href="#"><i class="ti-user"></i> Profile</a></li>
                                        <li><a href="#"><i class="ti-wallet"></i> Balance</a></li>
                                        <li><a href="#"><i class="ti-email"></i> Inbox</a></li>
                                        <li><a href="#"><i class="ti-settings"></i> Setting</a></li>
                                        <li>
                                            <h:form>
                                                <h:commandLink actionListener="#{usuarioSession.cerrarSesion('../')}" value="Logout"  >
                                                    <i class="fa fa-power-off"></i>
                                                </h:commandLink>
                                            </h:form>

                                        </li>
                                    </ul>
                                </div>
                            </li>
                        </ul>
                    </div>
                </nav>
            </div>
            <!-- End header header -->
            <!-- Left Sidebar  -->
            <div class="left-sidebar">
                <!-- Sidebar scroll-->
                <div class="scroll-sidebar">
                    <!-- Sidebar navigation-->
                    <br/>
                    <br/>
                    <nav class="sidebar-nav">
                        <ul id="sidebarnav">
                            <li class="nav-devider"></li>
                            <li class="nav-label">Mis perfiles</li>
                            <li> 
                                <a class="has-arrow  " href="#" aria-expanded="false">
                                    <i class="fa fa-tachometer"></i><span class="hide-menu">Perfiles <span class="label label-rouded label-primary pull-right">#{usuarioSession.usuLogin.rolCollection.size()}</span></span></a>
                                <ul aria-expanded="false" class="collapse">
                                    <c:forEach items="#{usuarioSession.usuLogin.rolCollection}" var="rol" >
                                        <li><a href="../#{rol.ROLNombreRol}/index.xhtml"  onclick="$('#panelUno').show();$('#archivosServidor').hide();$('#cargaTxt').hide();$('#cargaXls').hide();" >#{rol.ROLNombreRol} </a>
                                            <c:if test="#{rol.ROLNombreRol.equals('Administrador')}" >
                                                <ul aria-expanded="false" class="collapse">
                                                    <li><a href="#" onclick="$('#panelUno').hide();$('#archivosServidor').hide();$('#cargaTxt').hide();$('#cargaXls').hide();$('#cargaTxt').show();" >Carga Archivos txt.</a></li>
                                                    <li><a href="#" onclick="$('#panelUno').hide();$('#cargaTxt').hide();$('#archivosServidor').hide();$('#cargaXls').show();">Carga Archivos xls.</a></li>
                                                    <li><a href="#" onclick="$('#panelUno').hide();$('#cargaTxt').hide();$('#cargaXls').hide();$('#archivosServidor').show();" >Archivos servidor.</a></li>
                                                </ul>
                                            </c:if>
                                        </li>
                                    </c:forEach> 
                                </ul>
                            </li>
                            <li class="nav-label">
                                <a href="#" data-toggle="modal" data-target="#correoModal">Correo Masivo</a>
                            </li>



                        </ul>
                    </nav>
                    <!-- End Sidebar navigation -->
                </div>
                <!-- End Sidebar scroll-->
            </div>
            <!-- End Left Sidebar  -->
            <!-- Page wrapper  -->
            <div class="page-wrapper">
                <!-- Bread crumb -->
                <div class="row page-titles">
                    <div class="col-md-5 align-self-center">
                        <h3 class="text-primary">Administrador</h3> </div>
                    <div class="col-md-7 align-self-center">
                        <ol class="breadcrumb">
                            <li class="breadcrumb-item"><a href="javascript:void(0)">Inicio</a></li>
                            <li class="breadcrumb-item active">Usuarios Sistema </li>
                        </ol>
                    </div>
                </div>
                <!-- End Bread crumb -->
                <!-- Container fluid  -->
                <div class="container-fluid">

                    <div id="panelUno">
                        <h:panelGroup id="graficosDinamicos">
                            <div class="row">

                                <div class="col-6">
                                    <div id="chartContainer" style="height: 300px; width: 100%;"></div>
                                </div>

                                <div class="col-6">
                                    <div id="chartContainer1" style="height: 300px; width: 100%;"></div>
                                </div>

                                <script>
                                    window.onload = function () {


                                        var chart1 = new CanvasJS.Chart("chartContainer1", {
                                            animationEnabled: true,
                                            theme: "light2", // "light1", "light2", "dark1", "dark2"
                                            title: {
                                                text: "Usuarios / Rol"
                                            },
                                            axisY: {
                                                title: "Cantidad",
                                                includeZero: false
                                            },
                                            axisX: {
                                                title: "Roles"
                                            },
                                            data: [{
                                                    type: "column",
                                                    yValueFormatString: "#,##0.0#\"%\"",
                                                    dataPoints: [
                                                        {label: "Administrador", y:#{administradorView.graficoRol('Administrador')}},
                                                        {label: "Cliente", y:#{administradorView.graficoRol('Cliente')}},
                                                        {label: "Veterinario", y:#{administradorView.graficoRol('Veterinario')}},
                                                        {label: "Empleado", y:#{administradorView.graficoRol('Empleado')}}
                                                    ]
                                                }]
                                        });
                                        chart1.render();

                                        var chart = new CanvasJS.Chart("chartContainer", {
                                            theme: "light2", // "light1", "light2", "dark1", "dark2"
                                            exportEnabled: true,
                                            animationEnabled: true,
                                            title: {
                                                text: "Usuarios activos / inactivos"
                                            },
                                            data: [{
                                                    type: "pie",
                                                    startAngle: 25,
                                                    toolTipContent: "<b>{label}</b>: {y}",
                                                    showInLegend: "true",
                                                    legendText: "{label}",
                                                    indexLabelFontSize: 16,
                                                    indexLabel: "{label} - {y}",
                                                    dataPoints: [
                                                        {y:#{administradorView.activoInactivo('Activo')}, label: "Activos"},
                                                        {y:#{administradorView.activoInactivo('Inactivo')}, label: "Inactivos"},
                                                    ]
                                                }]
                                        });
                                        chart.render();
                                    }
                                </script>


                            </div>
                        </h:panelGroup>
                        <h:form id="formularioUno">
                            <div class="row" id="contenidoTabla" >
                                <div class="col-12">
                                    <div class="card">
                                        <div class="card-body">                                 
                                            <div class="table-responsive m-t-40">

 <div class="modal-footer">
                                <h:outputLabel>
                                    <button type="button" onclick="$('#correoModal').hide();
                                            swal('Enviando correos!!');" class="btn btn-purple waves-effect waves-light"> <span>Send</span> <i class="fa fa-send m-l-10"></i> </button>
                                    <f:ajax event="click" listener="#{administradorView.envioMasivo()}" ></f:ajax>
                                </h:outputLabel> 
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                            </div>
                                                <table id="example23" class="display nowrap table table-hover table-striped table-bordered" cellspacing="0" width="100%">
                                                    <thead>
                                                        <tr>
                                                            <th>Nombre</th>
                                                            <th>Apellido</th>
                                                            <th>Direccion</th>
                                                            <th>Email</th>
                                                            <th>Perfiles</th>
                                                            <th>Fecha de nacimiento</th>
                                                            <th>Tipo Doc</th>
                                                            <th>Numero doc</th>
                                                            <th>Telefono</th>
                                                            <th>Estado</th>
                                                            <th>Acciones</th>
                                                        </tr>
                                                    </thead>
                                                    <tfoot> 
                                                        <tr>
                                                            <th>Nombre</th>
                                                            <th>Apellido</th>
                                                            <th>Direccion</th>
                                                            <th>Email</th>
                                                            <th>Perfiles</th>
                                                            <th>Fecha de nacimiento</th>
                                                            <th>Tipo Doc</th>
                                                            <th>Numero doc</th>
                                                            <th>Telefono</th>
                                                            <th>Estado</th>
                                                            <th>Acciones</th>

                                                        </tr>
                                                    </tfoot>
                                                    <tbody>

                                                        <ui:repeat value="#{administradorView.leerUsuario()}" var="usuario" >
                                                            <tr>
                                                                <td>#{usuario.USUNombre} </td>
                                                                <td>#{usuario.USUApellido} </td>
                                                                <td>#{usuario.USUDireccion} </td>
                                                                <td>#{usuario.USUEmail} </td>
                                                                <td>
                                                                    <ui:repeat value="#{usuario.rolCollection}" var="misRoles">
                                                                        <i class="mdi mdi-star font-18 align-middle mr-2"></i><b>#{misRoles.ROLNombreRol}</b><br/>                                                                    
                                                                    </ui:repeat>
                                                                </td>
                                                                <td>#{usuario.USUFechaNacimiento} </td>
                                                                <td>#{usuario.USUTipoDocumento} </td>
                                                                <td>#{usuario.USUNumeroDocumento} </td>
                                                                <td>#{usuario.USUTelefono} </td>

                                                                <td>
                                                                    <button type="button" class="btn btn-#{usuario.USUEstado eq 'Inactivo'?'danger':'success'}  btn-sm m-b-10 m-l-5">#{usuario.USUEstado}</button>
                                                                </td>
                                                                <td>
                                                                    <h:commandButton value="M" onclick="$('#contenidoTabla').hide('slow');
                                                                            $('#datosUsuario').show('slow');" class="btn btn-info">
                                                                        <f:ajax event="click" render="formularioUno:datosModificar" listener="#{administradorView.setUsurioTemporal(usuario)}" ></f:ajax>                                                                      
                                                                    </h:commandButton>
                                                                    &nbsp;
                                                                    <button type="button" onclick="bloqueo('#{usuario.USUNombre}', '#{usuario.PKUSUIdUsuario}')" class="btn btn-danger"> <i class="fa fa-asterisk"></i> B</button>
                                                                    &nbsp;
                                                                    <h:commandButton value="P" onclick="$('#exampleRoles').show();" class="btn btn-success">
                                                                        <f:ajax event="click" render="formularioRoles:modalRoles" listener="#{administradorView.calculaRoles(usuario)}" ></f:ajax>                                                                      
                                                                    </h:commandButton>


                                                                </td>

                                                            </tr>                                                        
                                                        </ui:repeat>
                                                    </tbody>
                                                </table>

                                            </div>
                                        </div>
                                    </div>


                                </div>
                            </div>
                            <div class="row" id="datosUsuario">  
                                <h:panelGroup id="datosModificar">

                                    <div class="col-12">
                                        <div class="col-lg-6">
                                            <div class="card">
                                                <div class="card-title">
                                                    <h4>Informacion Basica</h4>
                                                </div>
                                                <div class="card-body">
                                                    <div class="basic-form">

                                                        <div class="form-group">
                                                            <label>Tipo de documento</label>
                                                            <select jsf:id="inDoc" name="inDoc" value="#{administradorView.usurioTemporal.USUTipoDocumento}" required="true"  class="form-control">
                                                                <option>Cedula de ciudadania</option>
                                                                <option>Tarjeta de identidad</option>
                                                                <option>Otro</option>
                                                            </select>
                                                        </div>
                                                        <div class="form-group">
                                                            <label>Documento</label>
                                                            <input type="number" class="form-control input-flat" jsf:id="inNoDoc" name="inNoDoc" value="#{administradorView.usurioTemporal.USUNumeroDocumento}" required="true" placeholder="Documento"/>
                                                        </div>
                                                        <div class="form-group">
                                                            <label>Nombres</label>
                                                            <input type="text" class="form-control input-rounded"  jsf:id="inNom" name="inNom" value="#{administradorView.usurioTemporal.USUNombre}" required="true" placeholder="Nombres"/>
                                                        </div>
                                                        <div class="form-group">
                                                            <label>Apellidos</label>
                                                            <input type="text" class="form-control input-focus" placeholder="Apellidos"  jsf:id="inApe" name="inApe" value="#{administradorView.usurioTemporal.USUApellido}" required="true"/>
                                                        </div>
                                                        <div class="form-group">
                                                            <label>Direccion</label>
                                                            <input type="text" class="form-control input-focus" placeholder="Direccion"  jsf:id="inDir" name="inDir" value="#{administradorView.usurioTemporal.USUDireccion}" required="true"/>
                                                        </div>
                                                        <div class="form-group">
                                                            <label>Telefono</label>
                                                            <input type="number" class="form-control input-focus" placeholder="Telefono"  jsf:id="inTel" name="inTel" value="#{administradorView.usurioTemporal.USUTelefono}" required="true"/>
                                                        </div>


                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- /# column --> 
                                        <div class="col-lg-6">
                                            <div class="card">
                                                <div class="card-title">
                                                    <h4>Seguridad</h4>

                                                </div>
                                                <div class="card-body">
                                                    <div class="basic-form">
                                                        <div class="form-group">
                                                            <label>Correo</label>                                            
                                                            <input type="email" class="form-control input-rounded" placeholder="Correo" readonly="true" jsf:id="inCor" name="inCor" value="#{administradorView.usurioTemporal.USUEmail}" required="true"/>
                                                        </div>
                                                        <div class="form-group">
                                                            <label>Clave</label>
                                                            <input type="password" class="form-control input-rounded"  placeholder="Clave"  jsf:id="inClave" name="inClave" value="#{administradorView.usurioTemporal.USUClave}" required="true"/>
                                                        </div>
                                                        <div class="form-group">
                                                            <h:commandButton class="btn btn-primary btn-block m-b-10" action="#{administradorView.actualizarUsuario()}"  value="Guardar Cambios">

                                                            </h:commandButton>
                                                        </div>

                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- /# column -->  
                                    </div>




                                </h:panelGroup>
                            </div>
                        </h:form>
                    </div>


                    <div id="cargaTxt">
                        <div class="row">
                            <div class="col-lg-6">
                                <div class="card">
                                    <div class="card-title">
                                        <h4>Carga Archivo</h4>
                                        <h:form enctype="multipart/form-data" >
                                            <h:inputFile value="#{archivosView.file}" class="btn btn-primary" id="archivoTxt"></h:inputFile>
                                            &nbsp;
                                            &nbsp;
                                            <h:commandButton value="Cargar" class="btn btn-success" >
                                                <f:ajax event="click" execute="@form" render="salidaTxt"  listener="#{archivosView.cargaArchivo()}" ></f:ajax>
                                            </h:commandButton>                                        
                                            <h:commandButton value="Cargar" class="btn btn-success" >
                                                <f:ajax event="click" execute="@form" render="salidaTxt"  listener="#{archivosView.cargaArchivo()}" ></f:ajax>
                                            </h:commandButton>                                        
                                        </h:form>

                                    </div>
                                    <div class="card-body">

                                    </div>

                                </div>
                            </div>


                            <div class="col-lg-6">
                                <div class="card">
                                    <div class="card-title">
                                        <h4>Resultado</h4>

                                    </div>
                                    <div class="card-body">
                                        <h3>
                                            <h:outputLabel id="salidaTxt" value="#{archivosView.fileContent}"></h:outputLabel>
                                        </h3>
                                    </div>

                                </div>
                            </div>
                        </div>


                        <div class="row">
                            <div class="col-lg-6">
                                <div class="card">
                                    <div class="card-title">
                                        <h4>Carga Archivo</h4>
                                        <h:form enctype="multipart/form-data" >
                                            <h:inputFile value="#{archivosView.file}" class="btn btn-primary" id="archivoTxt"></h:inputFile>
                                            <br/>
                                            <h:commandButton value="Cargar" class="btn btn-success" >
                                                <f:ajax event="click" execute="@form" render="salidaTxt1" listener="#{archivosView.cargaArchivo()}" ></f:ajax>
                                            </h:commandButton>                                        
                                        </h:form>

                                    </div>
                                    <div class="card-body">

                                    </div>

                                </div>
                            </div>


                            <div class="col-lg-6">
                                <div class="card">
                                    <div class="card-title">
                                        <h4>Resultado</h4>

                                    </div>
                                    <div class="card-body">
                                        <h3>
                                            <h:outputLabel id="salidaTxt1" value="#{archivosView.fileContent}"></h:outputLabel>
                                        </h3>
                                    </div>

                                </div>
                            </div>
                        </div>

                    </div>

                    <div id="cargaXls">
                        <div class="row">
                            <div class="col-lg-4">
                                <div class="card">
                                    <div class="card-title">
                                        <h4>Carga archivo xls</h4>
                                    </div>
                                    <div class="card-body">
                                        <h:form>
                                            <p:fileUpload  mode="advanced" dragDropSupport="false"
                                                           update="messages tablaExcel"

                                                           sizeLimit="100000" 
                                                           cancelLabel="Cancelar"
                                                           uploadLabel="Cargar"      
                                                           label="Buscar"
                                                           fileUploadListener="#{archivosView.handleFileUpload}"
                                                           fileLimit="3" allowTypes="/(\.|\/)(xlsx|xls)$/" />
                                            <p:growl id="messages"  showDetail="true" />                                      
                                        </h:form>

                                    </div>

                                </div>
                            </div>


                            <div class="col-lg-8">
                                <div class="card">
                                    <div class="card-title">
                                        <h4>Usuarios</h4>

                                    </div>
                                    <div class="card-body">
                                        <h:panelGroup id="tablaExcel">
                                            <div class="table-responsive">

                                                <table class="table table-hover ">
                                                    <thead>
                                                        <tr>
                                                            <th>Tipo Documento</th>
                                                            <th>Documento</th>
                                                            <th>Nombres</th>
                                                            <th>Apellidos</th>                                                           
                                                            <th>Email</th>
                                                            <th>Estados</th>

                                                        </tr>
                                                    </thead>
                                                    <tbody >
                                                        <ui:repeat value="#{archivosView.listaExcel}" var="datos">
                                                            <tr>
                                                                <td>
                                                                    #{datos.tipoDocumento}
                                                                </td>
                                                                <td>
                                                                    #{datos.documento}
                                                                </td>
                                                                <td>
                                                                    #{datos.nombres}
                                                                </td>
                                                                <td>
                                                                    #{datos.apellidos}
                                                                </td>
                                                                <td>
                                                                    #{datos.correo}
                                                                </td>
                                                                <td>
                                                                    <button type="button" class="btn btn-#{datos.estadoIngreso eq 1 ?'primary':'danger'}  btn-rounded m-b-10 m-l-5">#{datos.estadoIngreso eq 1 ?'B':'M'}</button>

                                                                </td>

                                                            </tr>
                                                        </ui:repeat>

                                                    </tbody>
                                                </table>
                                            </div>
                                        </h:panelGroup>

                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="archivosServidor">
                        <div class="row">
                            <div class="col-lg-4">
                                <div class="card">
                                    <div class="card-title">
                                        <h4>Carga imagenes servidor</h4>
                                    </div>
                                    <div class="card-body">
                                        <h:form enctype="multipart/form-data" >
                                            <h:inputFile value="#{archivosView.file}" class="btn btn-primary" id="archivoTxt"></h:inputFile>
                                            &nbsp;
                                            &nbsp;

                                            <h:commandButton value="Cargar" class="btn btn-success" >
                                                <f:ajax event="click" execute="@form" render="salidaTxt1" listener="#{archivosView.cargaArchivo()}" ></f:ajax>
                                            </h:commandButton>                                        
                                        </h:form>

                                    </div>

                                </div>
                            </div>


                            <div class="col-lg-8">
                                <div class="card">
                                    <div class="card-title">
                                        <h4>Carrusel Imagenes</h4>

                                    </div>
                                    <div class="card-body">
                                        <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
                                            <div class="carousel-inner">
                                                <div class="carousel-item active">
                                                    <img class="d-block w-100" src="../images/user-bg.jpg" alt="First slide"/>
                                                </div>
                                                <div class="carousel-item">
                                                    <img class="d-block w-100" src="../images/user-bg.jpg" alt="Second slide"/>
                                                </div>
                                                <div class="carousel-item">
                                                    <img class="d-block w-100" src="../images/user-bg.jpg" alt="Third slide"/>
                                                </div>
                                            </div>
                                            <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
                                                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                                <span class="sr-only">Previous</span>
                                            </a>
                                            <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
                                                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                                <span class="sr-only">Next</span>
                                            </a>
                                        </div>

                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>





                </div>

                <!-- End Container fluid  -->
                <!-- footer -->
                <footer class="footer"> © 2018 All rights reserved. Template designed by <a href="https://colorlib.com">Colorlib</a></footer>
                <!-- End footer -->

            </div>

            <div class="modal" tabindex="-1" role="dialog"  id="exampleRoles">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title">Perfiles</h5>
                            <button type="button" class="close" onclick="$('#exampleRoles').hide();" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">

                            <h:form id="formularioRoles">


                                <h:panelGroup id="modalRoles">
                                    <div class="col-lg-12">
                                        <div class="card">
                                            <div class="card-title">
                                                <h4>Actuales</h4>
                                            </div>
                                            <div class="button-list">
                                                <c:forEach items="#{administradorView.misRoles}" var="rol">
                                                    <h:outputLabel >
                                                        <button type="button" class="btn btn-success btn-flat btn-addon m-b-10 m-l-5"><i class="ti-minus"></i> #{rol.ROLNombreRol}</button>
                                                        <f:ajax render="formularioRoles:modalRoles graficosDinamicos" event="click" listener="#{administradorView.removerRol(rol.PKROLIdRol)}"></f:ajax>
                                                    </h:outputLabel>
                                                </c:forEach>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-12">

                                        <div class="card">
                                            <div class="card-title">
                                                <h4>Disponibles</h4>
                                            </div>
                                            <div class="button-list">

                                                <c:forEach items="#{administradorView.rolesDisponibles}" var="rol">

                                                    <h:outputLabel >
                                                        <button type="button" class="btn btn-primary btn-flat btn-addon m-b-10 m-l-5"><i class="ti-plus"></i> #{rol.ROLNombreRol}</button>
                                                        <f:ajax render="formularioRoles:modalRoles graficosDinamicos" event="click" listener="#{administradorView.adicionarRol(rol.PKROLIdRol)}"></f:ajax>
                                                    </h:outputLabel>

                                                </c:forEach>


                                            </div>
                                        </div>

                                    </div>
                                </h:panelGroup>
                            </h:form>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary"  onclick="$('#exampleRoles').hide();">Cerrar</button>
                        </div>
                    </div>
                </div>
            </div>


            <div class="modal" tabindex="-1" role="dialog"  id="exampleModal">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title">Registrar</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <h:form>

                                <div>
                                    <div class="card">
                                        <div class="card-title">
                                            <h4>Informacion Basica</h4>
                                        </div>
                                        <div class="card-body">
                                            <div class="basic-form">

                                                <div class="form-group">
                                                    <label>Tipo de documento</label>
                                                    <select jsf:id="inDoc" name="inDoc" value="" required="true"  class="form-control">
                                                        <option>Cedula de ciudadania</option>
                                                        <option>Tarjeta de identidad</option>
                                                        <option>Otro</option>
                                                    </select>
                                                </div>
                                                <div class="form-group">
                                                    <label>Documento</label>
                                                    <input type="number" class="form-control input-rounded" jsf:id="inNoDoc" name="inNoDoc" value="" required="true" placeholder="Documento"/>
                                                </div>
                                                <div class="form-group">
                                                    <label>Nombres</label>
                                                    <input type="text" class="form-control input-rounded"  jsf:id="inNom" name="inNom" value="" required="true" placeholder="Nombres"/>
                                                </div>
                                                <div class="form-group">
                                                    <label>Apellidos</label>
                                                    <input type="text" class="form-control input-rounded" placeholder="Apellidos"  jsf:id="inApe" name="inApe" value="" required="true"/>
                                                </div>
                                                <div class="form-group">
                                                    <label>Direccion</label>
                                                    <input type="text" class="form-control input-rounded" placeholder="Direccion"  jsf:id="inDir" name="inDir" value="" required="true"/>
                                                </div>
                                                <div class="form-group">
                                                    <label>Telefono</label>
                                                    <input type="number" class="form-control input-rounded" placeholder="Telefono"  jsf:id="inTel" name="inTel" value="" required="true"/>
                                                </div>

                                                <div class="form-group">
                                                    <label >Fecha de nacimiento</label>
                                                    <input type="date" min="2018-01-30" max="2100-12-31" class="form-control input-rounded" placeholder="Fecha"  jsf:id="inFecha" name="inFecha" value="" required="true"/>
                                                </div>

                                                <div class="form-group">
                                                    <label>Correo</label>
                                                    <input type="email" class="form-control input-rounded"  jsf:id="IntCor" name="IntCor" value="" required="true" placeholder="Correo"/>
                                                </div>
                                                <div class="form-group">
                                                    <label>Clave</label>
                                                    <input type="password" class="form-control input-rounded"  placeholder="Clave"  jsf:id="inClave" name="inClave" value="" required="true"/>
                                                </div>


                                            </div>
                                        </div>
                                    </div>





                                </div>
                                <!-- /# column -->
                                <!-- /# column -->                           

                            </h:form>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-primary">Registrar</button>
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>


            <div class="modal" tabindex="-1" role="dialog"  id="correoModal">
                <div class="modal-dialog modal-lg" role="document">

                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title">Correos masivos</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <h:form>
                            <div class="modal-body">
                                <div class="form-group">
                                    <input type="text" jsf:value="#{administradorView.asuntoM}" name="asuntoM"  class="form-control" placeholder="Subject"/>
                                </div>
                                <div class="form-group">
                                    <textarea jsf:value="#{administradorView.cuerpoM}" name="cuerpoM" rows="8" cols="80" class="form-control" style="height:300px">
                                    </textarea>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <h:outputLabel>
                                    <button type="button" onclick="$('#correoModal').hide();
                                            swal('Enviando correos!!');" class="btn btn-purple waves-effect waves-light"> <span>Send</span> <i class="fa fa-send m-l-10"></i> </button>
                                    <f:ajax event="click" listener="#{administradorView.envioMasivo()}" ></f:ajax>
                                </h:outputLabel> 
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                            </div>
                        </h:form>

                    </div>


                </div>
            </div>


            <!-- End Page wrapper  -->
            <h:form>
                <p:remoteCommand name="cambioEstado"  actionListener="#{administradorView.cambiarEstado()}">
                </p:remoteCommand>

            </h:form>


        </div>
        <!-- End Wrapper -->



        <script type="text/javascript" >

            function bloqueo(nombre, pkUsuario) {
                swal({
                    title: "Quiere cambiar el estado de  " + nombre + " ?",
                    text: "Esta seguro !!",
                    type: "warning",
                    showCancelButton: true,
                    confirmButtonColor: "#DD6B55",
                    confirmButtonText: "Si",
                    cancelButtonText: "No",
                    closeOnConfirm: false,
                    closeOnCancel: false
                },
                        function (isConfirm) {
                            if (isConfirm) {
                                cambioEstado([{name: 'usuPk', value: pkUsuario}]);
                                swal("Estado cambio !!", "Satisfactoriamente!!", "success");
                            } else {
                                swal("Accion  !!", "Cancelada !!", "error");
                            }
                        });
            }

        </script>


        <!-- Bootstrap tether Core JavaScript -->
        <script src="../js/lib/bootstrap/js/popper.min.js"></script>
        <script src="../js/lib/bootstrap/js/bootstrap.min.js"></script>
        <!-- slimscrollbar scrollbar JavaScript -->
        <script src="../js/jquery.slimscroll.js"></script>
        <!--Menu sidebar -->
        <script src="../js/sidebarmenu.js"></script>
        <!--stickey kit -->
        <script src="../js/lib/sticky-kit-master/dist/sticky-kit.min.js"></script>
        <!--Custom JavaScript -->
        <script src="../js/custom.min.js"></script>


        <script src="../js/lib/sweetalert/sweetalert.min.js"></script>
        <!-- scripit init-->
        <script src="../js/lib/sweetalert/sweetalert.init.js"></script>
        <script src="../js/lib/datatables/datatables.min.js"></script>

        <script src="../js/lib/datatables/cdn.datatables.net/buttons/1.2.2/js/dataTables.buttons.min.js"></script>
        <script src="../js/lib/datatables/cdn.datatables.net/buttons/1.2.2/js/buttons.flash.min.js"></script>
        <script src="../js/lib/datatables/cdnjs.cloudflare.com/ajax/libs/jszip/2.5.0/jszip.min.js"></script>
        <script src="../js/lib/datatables/cdn.rawgit.com/bpampuch/pdfmake/0.1.18/build/pdfmake.min.js"></script>
        <script src="../js/lib/datatables/cdn.rawgit.com/bpampuch/pdfmake/0.1.18/build/vfs_fonts.js"></script>
        <script src="../js/lib/datatables/cdn.datatables.net/buttons/1.2.2/js/buttons.html5.min.js"></script>
        <script src="../js/lib/datatables/cdn.datatables.net/buttons/1.2.2/js/buttons.print.min.js"></script>
        <script src="../js/lib/datatables/datatables-init.js"></script>
        <script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>

    </h:body>

</html>
